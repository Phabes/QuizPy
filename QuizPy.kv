#:kivy 1.0.9

#<ChooseOneQuestion>:
#    BoxLayout:
#        orientation:'vertical'
#        size:(root.width,root.height)
#        AnchorLayout:
#            anchor_x:'center'
#            anchor_y:'top'
#            size_hint:1,0.5
#            Label:
#                id: mainQuestion
#                font_size:root.width/20
#                center_y:root.height*90/100
#                text_size:self.size
#                size:root.width*0.95,150
#                text: "[Error]"
#                background_color: 1, 0, 0, 1
#                halign: 'center'
#                valign: 'middle'
#
#        AnchorLayout:
#            anchor_x:'center'
#            anchor_y:'top'
#            size_hint:1,0.3
#            Label:
#                id: afterAnswerLabel
#                visible: False
#                font_size:root.width/20
#                center_x:root.width/2
#                center_y:root.height*80/100
#                text: "[Error]"
#                size_hint_x: 1 if self.visible else 0
#                opacity: 1 if self.visible else 0
#                disabled: not self.visible
#
#        GridLayout:
#            cols:2
#            rows:2
#            size:root.width,root.height*0.6
#            Button:
#                id: firstAnswer
#                font_size:self.width/7
#                center_x: root.width*1/4
#                center_y:root.height*5/10
#                on_press:root.choose_answer(0)
#                background_color:"#00ff00" if root.isCorrect==0 else ( "#ff0000" if root.isCorrect>=0 else "#AAAAAA" )
#                text: "[Error]"
#            Button:
#                id: secondAnswer
#                font_size:self.width/7
#                center_x: root.width*3/4
#                center_y:root.height*5/10
#                on_press:root.choose_answer(1)
#                background_color:"#00ff00" if root.isCorrect==1 else ( "#ff0000" if root.isCorrect>=0 else "#AAAAAA" )
#                text: "[Error]"
#            Button:
#                id: thirdAnswer
#                font_size:self.width/7
#                center_x: root.width*1/4
#                center_y:root.height*3/10
#                on_press:root.choose_answer(2)
#                background_color:"#00ff00" if root.isCorrect==2 else ( "#ff0000" if root.isCorrect>=0 else "#AAAAAA" )
#                text: "[Error]"
#            Button:
#                id: fourthAnswer
#                font_size:self.width/7
#                center_x: root.width*3/4
#                center_y:root.height*3/10
#                on_press:root.choose_answer(3)
#                background_color:"#00ff00" if root.isCorrect==3 else ( "#ff0000" if root.isCorrect>=0 else "#AAAAAA" )
#                text: "[Error]"

#<CorrectOrderQuestion>:
#    BoxLayout:
#        orientation:'vertical'
#        size:(root.width,root.height)
#        AnchorLayout:
#            anchor_x:'center'
#            anchor_y:'top'
#            size_hint:1,0.5
#            Label:
#                id: mainQuestion
#                font_size:root.width/20
#                center_y:root.height*90/100
#                text_size:self.size
#                size:root.width*0.95,150
#                text: "[Error]"
#                background_color: 1, 0, 0, 1
#                halign: 'center'
#                valign: 'middle'
#
#        AnchorLayout:
#            anchor_x:'center'
#            anchor_y:'top'
#            size_hint:1,0.3
#            Label:
#                id: afterAnswerLabel
#                visible: False
#                font_size:root.width/20
#                center_x:root.width/2
#                center_y:root.height*80/100
#                text: "[Error]"
#                size_hint_x: 1 if self.visible else 0
#                opacity: 1 if self.visible else 0
#                disabled: not self.visible

<Category>:
    size_hint: 1, None
    height: 400
    on_press: root.click()

<Quiz>:
    size_hint: 1, None
    height: 400
    on_press: root.click()

<StartScreen>
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1,None
            height: 80
            AnchorLayout:
                anchor_x: "left"
                size_hint: 0.5,1
                Button:
                    id: back_button
                    text: "BACK"
                    size_hint: 0.5,1
            AnchorLayout:
                anchor_x: "right"
                size_hint: 0.5,1
                BoxLayout:
                    orientation: "horizontal"
                    size_hint: 0.5,1
                    Button:
                        text: "LOGIN"
                        size_hint: 0.5,1
                        on_press: root.manager.current = "login"
                    Button:
                        text: "REGISTER"
                        size_hint: 0.5,1
                        on_press: root.manager.current = "register"
        ScrollView:
            scroll_wheel_distance: 100
            size_hint: 1,None
            height: root.height - 80
            GridLayout:
                id: categoriesGrid
                cols: 2
                size_hint: 1, None
                height: self.minimum_height

<CategoryScreen>
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1,None
            height: 80
            AnchorLayout:
                anchor_x: "left"
                size_hint: 0.5,1
                Button:
                    id: back_button
                    text: "BACK"
                    size_hint: 0.5,1
            AnchorLayout:
                anchor_x: "right"
                size_hint: 0.5,1
                BoxLayout:
                    orientation: "horizontal"
                    size_hint: 0.5,1
                    Button:
                        text: "LOGIN"
                        size_hint: 0.5,1
                        on_press: root.manager.current = "login"
                    Button:
                        text: "REGISTER"
                        size_hint: 0.5,1
                        on_press: root.manager.current = "register"
        ScrollView:
            scroll_wheel_distance: 100
            size_hint: 1,None
            height: root.height - 80
            GridLayout:
                id: quiz_grid
                cols: 2
                size_hint: 1, None
                height: self.minimum_height

<QuizScreen>
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1,None
            height: 80
            AnchorLayout:
                anchor_x: "left"
                size_hint: 0.5,1
                Button:
                    id: back_button
                    text: "BACK"
                    size_hint: 0.5,1
            AnchorLayout:
                anchor_x: "right"
                size_hint: 0.5,1
                BoxLayout:
                    orientation: "horizontal"
                    size_hint: 0.5,1
                    Button:
                        text: "LOGIN"
                        size_hint: 0.5,1
                        on_press: root.manager.current = "login"
                    Button:
                        text: "REGISTER"
                        size_hint: 0.5,1
                        on_press: root.manager.current = "register"
        ScrollView:
            scroll_wheel_distance: 100
            size_hint: 1,None
            height: root.height - 80
            GridLayout:
                id: questions
                cols: 2
                size_hint: 1, None
                height: self.minimum_height

<QuestionScreen>
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1,None
            height: 80
            AnchorLayout:
                anchor_x: "left"
                size_hint: 0.5,1
                Button:
                    id: back_button
                    text: "BACK"
                    size_hint: 0.5,1
            AnchorLayout:
                anchor_x: "right"
                size_hint: 0.5,1
                BoxLayout:
                    orientation: "horizontal"
                    size_hint: 0.5,1
                    Button:
                        text: "LOGIN"
                        size_hint: 0.5,1
                        on_press: root.manager.current = "login"
                    Button:
                        text: "REGISTER"
                        size_hint: 0.5,1
                        on_press: root.manager.current = "register"
        BoxLayout:
            orientation:'vertical'
            size:(root.width,root.height)
        AnchorLayout:
            anchor_x:'center'
            anchor_y:'top'
            size_hint:1,0.5
            Label:
                id: mainQuestion
                font_size:root.width/20
                center_y:root.height*90/100
                text_size:self.size
                size:root.width*0.95,150
                text: "[Error]"
                background_color: 1, 0, 0, 1
                halign: 'center'
                valign: 'middle'

        AnchorLayout:
            anchor_x:'center'
            anchor_y:'top'
            size_hint:1,0.3
            Label:
                id: afterAnswerLabel
                visible: False
                font_size:root.width/20
                center_x:root.width/2
                center_y:root.height*80/100
                text: "[Error]"
                size_hint_x: 1 if self.visible else 0
                opacity: 1 if self.visible else 0
                disabled: not self.visible

        GridLayout:
            cols:2
            rows:2
            size:root.width,root.height*0.6
            Button:
                id: firstAnswer
                font_size:self.width/7
                center_x: root.width*1/4
                center_y:root.height*5/10
                on_press:root.choose_answer(0)
                background_color:"#00ff00" if root.isCorrect==0 else ( "#ff0000" if root.isCorrect>=0 else "#AAAAAA" )
                text: "[Error]"
            Button:
                id: secondAnswer
                font_size:self.width/7
                center_x: root.width*3/4
                center_y:root.height*5/10
                on_press:root.choose_answer(1)
                background_color:"#00ff00" if root.isCorrect==1 else ( "#ff0000" if root.isCorrect>=0 else "#AAAAAA" )
                text: "[Error]"
            Button:
                id: thirdAnswer
                font_size:self.width/7
                center_x: root.width*1/4
                center_y:root.height*3/10
                on_press:root.choose_answer(2)
                background_color:"#00ff00" if root.isCorrect==2 else ( "#ff0000" if root.isCorrect>=0 else "#AAAAAA" )
                text: "[Error]"
            Button:
                id: fourthAnswer
                font_size:self.width/7
                center_x: root.width*3/4
                center_y:root.height*3/10
                on_press:root.choose_answer(3)
                background_color:"#00ff00" if root.isCorrect==3 else ( "#ff0000" if root.isCorrect>=0 else "#AAAAAA" )
                text: "[Error]"

<LoginScreen>
    BoxLayout:
        AnchorLayout:
            anchor_x: "center"
            anchor_y: "center"
            BoxLayout:
                size_hint: 0.8, 0.8
                size: root.width*0.8, root.height*0.8
                GridLayout:
                    rows: 3
                    cols: 1
                    size_hint: 1, 1
                    TextInput:
                        id: login_input
                        hint_text: "login"
                        size_hint: 1, None
                        height: 40
                        font_size: 20
                        focus: True
                    TextInput
                        id: password_input
                        hint_text: "password"
                        password: True
                        size_hint: 1, None
                        height: 40
                        font_size: 20
                    Button:
                        id: login_button
                        text: "LOGIN"
                        size_hint: 0.5, None
                        height: 50
                        pos_hint: {"center_x": 0.5}
                        on_press: root.login_button_click()
#            Button:
#                text: "BACK"
#                size_hint: 0.5, 0.5
#                on_press: root.manager.current = "start"

<RegisterScreen>
    BoxLayout:
        AnchorLayout:
            anchor_x: "center"
            anchor_y: "center"
            BoxLayout:
                size_hint: 0.8, 0.8
                size: root.width*0.8, root.height*0.8
                GridLayout:
                    rows: 4
                    cols: 1
                    size_hint: 1, 1
                    TextInput:
                        id: login_input
                        hint_text: "login"
                        size_hint: 1, None
                        height: 40
                        font_size: 20
                        focus: True
                    TextInput
                        id: password_input
                        hint_text: "password"
                        password: True
                        size_hint: 1, None
                        height: 40
                        font_size: 20
                    TextInput
                        id: confirm_password_input
                        hint_text: "password"
                        password: True
                        size_hint: 1, None
                        height: 40
                        font_size: 20
                    Button:
                        id: login_button
                        text: "REGISTER"
                        size_hint: 0.5, None
                        height: 50
                        pos_hint: {"center_x": 0.5}
                        on_press: root.register_button_click()
#            Button:
#                text: "BACK"
#                size_hint: 0.5, 0.5
#                on_press: root.manager.current = "start"